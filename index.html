<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - ResenhaBurger</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.css">
</head>
<body>
    <!-- Login -->
    <div id="login-screen" class="login-screen">
        <div class="login-box">
            <h1><i class="fas fa-hamburger"></i> RESENHA ADMIN</h1>
            <p>Painel de Controle do Card√°pio</p>
            
            <div class="login-form">
                <input type="password" id="admin-password" placeholder="Senha de acesso" autocomplete="off">
                <button onclick="login()" class="login-btn">
                    <i class="fas fa-lock"></i> Entrar
                </button>
            </div>
            
            <div class="login-note">
                <i class="fas fa-info-circle"></i>
                <span>Entre com a senha fornecida pelo desenvolvedor</span>
            </div>
        </div>
    </div>

    <!-- Painel Principal -->
    <div id="main-panel" class="main-panel hidden">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="brand">
                <h1><i class="fas fa-edit"></i> EDITOR DE CARD√ÅPIO</h1>
                <p class="subtitle">ResenhaBurger - Edi√ß√£o Visual</p>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="salvarTudo()" title="Salvar tudo">
                    <i class="fas fa-save"></i> Salvar
                </button>
                <button class="control-btn" onclick="adicionarProduto()" title="Adicionar novo produto">
                    <i class="fas fa-plus"></i> Novo
                </button>
                <button class="control-btn" onclick="exportarCardapio()" title="Exportar para JSON">
                    <i class="fas fa-download"></i> Exportar
                </button>
                <button class="control-btn logout-btn" onclick="logout()" title="Sair">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <i class="fas fa-hamburger"></i>
                <span id="total-produtos">0</span> Produtos
            </div>
            <div class="status-item">
                <i class="fas fa-check-circle"></i>
                <span id="produtos-ativos">0</span> Ativos
            </div>
            <div class="status-item">
                <i class="fas fa-fire"></i>
                <span id="produtos-destaque">0</span> Destaques
            </div>
            <div class="status-item">
                <i class="fas fa-clock"></i>
                <span id="ultimo-salvamento">--:--</span>
            </div>
        </div>

        <!-- Filtros e Busca -->
        <div class="filter-bar">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="Buscar produto..." onkeyup="filtrarProdutos()">
            </div>
            
            <div class="category-filters">
                <button class="filter-btn active" onclick="filtrarCategoria('todos')">
                    <i class="fas fa-list"></i> Todos
                </button>
                <button class="filter-btn" onclick="filtrarCategoria('smash')">
                    <i class="fas fa-hamburger"></i> Smash
                </button>
                <button class="filter-btn" onclick="filtrarCategoria('premium')">
                    <i class="fas fa-crown"></i> Premium
                </button>
                <button class="filter-btn" onclick="filtrarCategoria('combos')">
                    <i class="fas fa-gift"></i> Combos
                </button>
                <button class="filter-btn" onclick="filtrarCategoria('promocoes')">
                    <i class="fas fa-bolt"></i> Promo√ß√µes
                </button>
                <button class="filter-btn" onclick="filtrarCategoria('acompanhamentos')">
                    <i class="fas fa-french-fries"></i> Acompanhamentos
                </button>
                <button class="filter-btn" onclick="filtrarCategoria('bebidas')">
                    <i class="fas fa-glass-whiskey"></i> Bebidas
                </button>
            </div>
        </div>

        <!-- Grid de Produtos -->
        <div class="products-grid" id="products-grid">
            <!-- Os produtos ser√£o carregados aqui -->
        </div>

        <!-- Template do Card de Produto -->
        <template id="product-template">
            <div class="product-card" data-id="" data-category="">
                <div class="card-header">
                    <div class="card-actions">
                        <button class="card-btn move-btn" title="Arrastar para reordenar">
                            <i class="fas fa-arrows-alt"></i>
                        </button>
                        <button class="card-btn delete-btn" onclick="removerProduto(this)" title="Remover produto">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    
                    <div class="card-image">
                        <img src="" alt="" class="product-image" onerror="this.src='https://via.placeholder.com/300x200?text=Imagem+Indispon√≠vel'">
                        <div class="image-upload-overlay">
                            <input type="file" accept="image/*" class="image-upload-input" onchange="uploadImagem(this)">
                            <i class="fas fa-camera"></i>
                            <span>Alterar Imagem</span>
                        </div>
                    </div>
                    
                    <div class="card-toggles">
                        <label class="toggle-switch">
                            <input type="checkbox" class="toggle-active" checked onchange="atualizarStatus(this)">
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Ativo</span>
                        </label>
                        
                        <label class="toggle-switch">
                            <input type="checkbox" class="toggle-destaque" onchange="atualizarDestaque(this)">
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Destaque</span>
                        </label>
                    </div>
                </div>
                
                <div class="card-body">
                    <div class="form-group">
                        <label><i class="fas fa-tag"></i> Nome do Produto</label>
                        <input type="text" class="product-name" value="" placeholder="Ex: Baratino" onchange="atualizarCampo(this)">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label><i class="fas fa-dollar-sign"></i> Pre√ßo</label>
                            <input type="number" class="product-price" value="0" step="0.01" min="0" placeholder="R$ 0,00" onchange="atualizarCampo(this)">
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-filter"></i> Categoria</label>
                            <select class="product-category" onchange="atualizarCampo(this)">
                                <option value="smash">üçî Smash</option>
                                <option value="premium">üëë Premium</option>
                                <option value="mais-pedidos">‚≠ê Mais Pedidos</option>
                                <option value="combos">üéÅ Combos</option>
                                <option value="promocoes">üî• Promo√ß√µes</option>
                                <option value="acompanhamentos">üçü Acompanhamentos</option>
                                <option value="bebidas">ü•§ Bebidas</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-list"></i> Ingredientes</label>
                        <textarea class="product-ingredients" rows="3" placeholder="Descreva os ingredientes..." onchange="atualizarCampo(this)"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-align-left"></i> Descri√ß√£o</label>
                        <textarea class="product-description" rows="2" placeholder="Descri√ß√£o curta do produto..." onchange="atualizarCampo(this)"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-tags"></i> Tags (separadas por v√≠rgula)</label>
                        <input type="text" class="product-tags" value="" placeholder="bestseller,premium,economia" onchange="atualizarCampo(this)">
                    </div>
                </div>
                
                <div class="card-footer">
                    <div class="product-id">
                        ID: <span class="id-text">---</span>
                    </div>
                    <div class="last-updated">
                        <i class="fas fa-clock"></i> <span class="updated-text">Agora</span>
                    </div>
                </div>
            </div>
        </template>
    </div>

    <!-- Preview do Produto -->
    <div id="preview-modal" class="preview-modal">
        <div class="preview-content">
            <div class="preview-header">
                <h3><i class="fas fa-eye"></i> Preview do Produto</h3>
                <button class="close-preview" onclick="fecharPreview()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="preview-body" id="preview-body">
                <!-- Preview ser√° gerado aqui -->
            </div>
        </div>
    </div>

    <!-- Modal de Novo Produto -->
    <div id="new-product-modal" class="new-product-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-plus-circle"></i> Novo Produto</h3>
                <button class="close-modal" onclick="fecharModalNovo()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="modal-section">
                    <h4>üìã Informa√ß√µes B√°sicas</h4>
                    <div class="form-group">
                        <label>Nome do Produto</label>
                        <input type="text" id="new-name" placeholder="Ex: Barril Dobrado">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Categoria</label>
                            <select id="new-category">
                                <option value="smash">üçî Smash Burger</option>
                                <option value="premium">üëë Premium</option>
                                <option value="combos">üéÅ Combo</option>
                                <option value="promocoes">üî• Promo√ß√£o</option>
                                <option value="acompanhamentos">üçü Acompanhamento</option>
                                <option value="bebidas">ü•§ Bebida</option>
                                <option value="mais-pedidos">‚≠ê Mais Pedidos</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Pre√ßo (R$)</label>
                            <input type="number" id="new-price" step="0.01" min="0" value="24.90">
                        </div>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>üçΩÔ∏è Descri√ß√£o</h4>
                    <div class="form-group">
                        <label>Ingredientes</label>
                        <textarea id="new-ingredients" rows="3" placeholder="Descreva os ingredientes principais..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Descri√ß√£o Curta</label>
                        <textarea id="new-description" rows="2" placeholder="Descri√ß√£o para exibi√ß√£o no card..."></textarea>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>üñºÔ∏è Imagem</h4>
                    <div class="image-upload-area" id="image-upload-area">
                        <input type="file" id="new-image" accept="image/*" onchange="previewNovaImagem(this)">
                        <div class="upload-placeholder">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Clique para upload ou arraste uma imagem</p>
                            <small>Recomendado: 600x400px, JPG ou PNG</small>
                        </div>
                        <img id="new-image-preview" class="hidden">
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-cancel" onclick="fecharModalNovo()">
                    Cancelar
                </button>
                <button class="btn-confirm" onclick="confirmarNovoProduto()">
                    <i class="fas fa-check"></i> Criar Produto
                </button>
            </div>
        </div>
    </div>

    <!-- Notifica√ß√µes -->
    <div id="notification" class="notification"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
    <script src="admin.js"></script>
</body>
</html>
